---
title: "LeetCode-ä¸‰å‘¨æ”»å…‹æ•°æ®ç»“æ„-çŸ©é˜µMatrix"
date: 2021-08-04
tags: è®°
comments: true
categories: ã€ŠLeetCode-ä¸‰å‘¨æ”»å…‹æ•°æ®ç»“æ„ã€‹
---

**è¿™æ˜¯æˆ‘å‚ä¸8æœˆæ›´æ–‡æŒ‘æˆ˜çš„ç¬¬4å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š[8æœˆæ›´æ–‡æŒ‘æˆ˜](https://juejin.cn/post/6987962113788493831 "https://juejin.cn/post/6987962113788493831")**

> æœ¬æ–‡é¢˜ç›®å…¨éƒ¨æ¥è‡ª [LeetCode](https://leetcode-cn.com/)
>
> ä½¿ç”¨ `Typescript`
>
> æœ¬ç¯‡æ–‡ç« å…¨éƒ¨æ”¶è—äºä¸“æ  [3å‘¨æ”»å…‹æ•°æ®ç»“æ„-LeetCode](https://juejin.cn/column/6987569745008525343)
>
> æœ¬æ–‡æ‰€æœ‰ä»£ç å’Œè§£é¢˜æ­¥éª¤å°†æ”¾ç½® [GitHubä»“åº“](https://github.com/ruoduan-hub/algorithm_py) 

## DAY5

### 1. æœ‰æ•ˆçš„æ•°ç‹¬

    è¯·ä½ åˆ¤æ–­ä¸€ä¸ª 9x9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦ æ ¹æ®ä»¥ä¸‹è§„åˆ™ ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚
    
    æ•°å­— 1-9 åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
    æ•°å­— 1-9 åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
    æ•°å­— 1-9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ 3x3 å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ï¼ˆè¯·å‚è€ƒç¤ºä¾‹å›¾ï¼‰
    æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨ '.' è¡¨ç¤ºã€‚
    
    æ³¨æ„ï¼š
    
    ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚
    åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚

**ç¤ºä¾‹ï¼š**

![250px-sudoku-by-l2g-20050714svg](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae3e07e21e67462fac449a29a07c82a8~tplv-k3u1fbpfcp-zoom-1.image)

    è¾“å…¥ï¼šboard = 
    [["5","3",".",".","7",".",".",".","."]
    ,["6",".",".","1","9","5",".",".","."]
    ,[".","9","8",".",".",".",".","6","."]
    ,["8",".",".",".","6",".",".",".","3"]
    ,["4",".",".","8",".","3",".",".","1"]
    ,["7",".",".",".","2",".",".",".","6"]
    ,[".","6",".",".",".",".","2","8","."]
    ,[".",".",".","4","1","9",".",".","5"]
    ,[".",".",".",".","8",".",".","7","9"]]
    è¾“å‡ºï¼štrue
    ç¤ºä¾‹ 2ï¼š
    
    è¾“å…¥ï¼šboard = 
    [["8","3",".",".","7",".",".",".","."]
    ,["6",".",".","1","9","5",".",".","."]
    ,[".","9","8",".",".",".",".","6","."]
    ,["8",".",".",".","6",".",".",".","3"]
    ,["4",".",".","8",".","3",".",".","1"]
    ,["7",".",".",".","2",".",".",".","6"]
    ,[".","6",".",".",".",".","2","8","."]
    ,[".",".",".","4","1","9",".",".","5"]
    ,[".",".",".",".","8",".",".","7","9"]]
    è¾“å‡ºï¼šfalse
    
    è§£é‡Šï¼šé™¤äº†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—ä» 5 æ”¹ä¸º 8 ä»¥å¤–ï¼Œç©ºæ ¼å†…å…¶ä»–æ•°å­—å‡ä¸ ç¤ºä¾‹1 ç›¸åŒã€‚ ä½†ç”±äºä½äºå·¦ä¸Šè§’çš„ 3x3 å®«å†…æœ‰ä¸¤ä¸ª 8 å­˜åœ¨, å› æ­¤è¿™ä¸ªæ•°ç‹¬æ˜¯æ— æ•ˆçš„ã€‚

 

#### æ–¹æ³•1ï¼šåŒå±‚éå†-[å“ˆå¸Œè¡¨]; ã€ç©ºé—´æ¢æ—¶é—´ã€‘

```
è§£æ³•ï¼š
1. è¡Œå’Œåˆ—éƒ½æ¯”è¾ƒç®€å•ç›´æ¥`éå†`å°±å¯ä»¥äº†
2.ä¸»è¦æ˜¯ `3x3å®«æ ¼` æˆ‘ä»¬åˆ†æä¸‹ `3x3å®«æ ¼`å®«æ ¼çš„è§„å¾‹ ğŸ‘‡ğŸ»
boxIndex = Math.floor(row/3) * 3 + Math.floor(columns/3)
```
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ed4f82ff3b54a68859e5f77b0b61edc~tplv-k3u1fbpfcp-watermark.image)

```
æ¥ä¸‹æ¥å°±æ¯”è¾ƒç®€å•äº†ï¼š
3. æ—¢ç„¶æ˜¯ç©ºé—´æ¢æ—¶é—´ æˆ‘ä»¬å¼€ä¸‰ä¸ª`å“ˆå¸Œè¡¨`æ¥å‚¨å­˜ è¡Œã€åˆ—ã€9å®«æ ¼ 
4. éå†çš„æ—¶å€™æ¯æ¬¡å‚¨å­˜å½“å‰å€¼ï¼Œç”¨å“ˆå¸Œè¡¨æŸ¥è¯¢åˆ¤æ–­æ˜¯å¦é‡å¤

æ—¶é—´ & ç©ºé—´: O(1)
```



```typescript
function isValidSudoku(board: string[][]): boolean {
    /** åˆå§‹åŒ–æ¨ªã€çºµã€å°ä¹å®«æ ¼
     *  æ¯ä¸ªå…ƒç´  ç”¨ 0 è¡¨ç¤ºæœªè¢«ä½¿ç”¨,å†èµ‹å€¼ä¸ºä¸€ä¸ª map å“ˆå¸Œè¡¨
     */
    
    // æ¯è¡Œ
    let rows = new Array(9).fill(0).map(() => new Map())
    // æ¯åˆ—
    let columns = new Array(9).fill(0).map(() => new Map())
    // æ¯ä¸ªä¹å®«æ ¼
    let boxes = new Array(9).fill(0).map(() => new Map())

    for(let i = 0; i<9; i++) {
        for(let j = 0; j<9; j++) {
            // é‡åˆ° . è·³è¿‡
            if(board[i][j] === '.')continue
            // å½“å‰å…ƒç´ 
            let num = board[i][j]
            // ä¹å®«æ ¼ä¸‹æ ‡
            let box_idx = Math.floor(i/3)*3 + Math.floor(j/3)

            // åˆ¤æ–­é‡å¤ç›´æ¥ false
            if(rows[i].has(num)) return false
            if(columns[j].has(num)) return false
            if(boxes[box_idx].has(num)) return false

            // æ¯æ¬¡å¡«å……å½“å‰å…ƒç´ ï¼Œ1è¡¨ç¤ºä¸º trueï¼› è¢«ä½¿ç”¨è¿‡äº†
            rows[i].set(num, 1)
            columns[j].set(num, 1)
            boxes[box_idx].set(num, 1)
        }
    }

    return true

}
```


### 2. çŸ©é˜µç½®é›¶

> ç»™å®šä¸€ä¸ª m x n çš„çŸ©é˜µï¼Œå¦‚æœä¸€ä¸ªå…ƒç´ ä¸º 0 ï¼Œåˆ™å°†å…¶æ‰€åœ¨è¡Œå’Œåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½è®¾ä¸º 0 ã€‚è¯·ä½¿ç”¨ åŸåœ° ç®—æ³•ã€‚
>
> è¿›é˜¶ï¼š
>
> ä¸€ä¸ªç›´è§‚çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨  O(mn) çš„é¢å¤–ç©ºé—´ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆã€‚
> ä¸€ä¸ªç®€å•çš„æ”¹è¿›æ–¹æ¡ˆæ˜¯ä½¿ç”¨ O(m + n) çš„é¢å¤–ç©ºé—´ï¼Œä½†è¿™ä»ç„¶ä¸æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ¡ˆã€‚
> ä½ èƒ½æƒ³å‡ºä¸€ä¸ªä»…ä½¿ç”¨å¸¸é‡ç©ºé—´çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ

**ç¤ºä¾‹1ï¼š**

<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3522403a58384d9a885d17fac4baa2b7~tplv-k3u1fbpfcp-zoom-1.image" alt="mat1" style="zoom:67%;" />

```
è¾“å…¥ï¼šmatrix = [[1,1,1],[1,0,1],[1,1,1]] 
è¾“å‡ºï¼š[[1,0,1],[0,0,0],[1,0,1]]
```

**ç¤ºä¾‹2ï¼š**

<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6db3ad5c63d04b3d886927797dbcae71~tplv-k3u1fbpfcp-zoom-1.image" alt="mat2" style="zoom:67%;" />

```
è¾“å…¥ï¼šmatrix = [[0,1,2,0],[3,4,5,2],[1,3,1,5]] 
è¾“å‡ºï¼š[[0,0,0,0],[0,4,5,0],[0,3,1,0]]
```

#### æ–¹æ³•1ï¼šæ•°ç»„æ ‡è®°æ³•

```
ç©ºé—´æ¢æ—¶é—´
æ—¶é—´å¤æ‚åº¦ï¼šO(mn)O(mn)
ç©ºé—´å¤æ‚åº¦ï¼šO(m+n)O(m+n)

æ€è·¯è¿˜æ˜¯ä¸€æ ·çš„ï¼š
1. éå†æ•°ç»„è®°å½•è¡Œã€åˆ— å‡ºç°çš„ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯ x,y è½´çš„åæ ‡
2. æ ¹æ®è·ç¦»ä¸‹æ¥çš„åæ ‡éå†å¯¹ çŸ©é˜µç½® 0
```



```typescript
/**
 Do not return anything, modify matrix in-place instead.
 */
function setZeroes(matrix: number[][]): void {
    // å‚¨å­˜ è¡Œã€åˆ— å‡ºç°è¿‡0çš„ä½ç½® å¹¶ä¸”å»é‡ 
    const rowsIndex = new Set()
    const columnsIndex = new Set()

    // çŸ©é˜µ é•¿ã€å®½
    const m = matrix.length
    const n = matrix[0].length

    // ç­›é€‰å‡º x,y åæ ‡å‡ºç°è¿‡ 0 çš„ä½ç½®
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if(!matrix[i][j]) {
                rowsIndex.add(i)
                columnsIndex.add(j)
            }
        }
    } 

    // ç½®ä¸º 0 
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if(Array.from(rowsIndex).includes(i) || Array.from(columnsIndex).includes(j)) {
                matrix[i][j] = 0
            }
        }
    } 

};

```
