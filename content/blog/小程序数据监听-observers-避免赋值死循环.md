---
title: 'å°ç¨‹åºæ•°æ®ç›‘å¬(observers),é¿å…èµ‹å€¼æ­»å¾ªç¯'
date: 2019-11-14 17:19:34
tags: web-other
categories: ã€Šweb-otherã€‹
---



> åœ¨å°ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ observers ç›‘å¬å¤„ç† properties ç»„ä»¶æ•°å­¦åˆ—è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œå…ä¸äº†å¯¹ å½“å‰æ•°æ®è¿›è¡Œå¤„ç† 
> åœ¨æˆ‘ä»¬å¯¹ç›‘å¬çš„æ•°æ®è¿›è¡Œèµ‹å€¼æ—¶å€™ï¼Œä¼šé€ æˆæ­»å¾ªç¯ï¼Œå…¶å®è¿™ä¸ªé—®é¢˜åœ¨å¤§å¤šæ•°æ¡†æ¶ä¸­éƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚

- å°æ —å­ğŸŒ°[é”™è¯¯ç¤ºèŒƒ]
```js
   properties: {
    playlist: {
      type: Object
    }
  },
  // æ•°æ®ç›‘å¬
  observers: {
    ['playlist.playCount'] (count) {
      this.setData({
        ['playlist.playCount']: this._tranNumber(count, 2)
      })
    }
  },
```
- å°æ —å­ğŸŒ°[æ­£ç¡®ç¤ºèŒƒ]

```js

data: {

  // æ•°æ®ç›‘å¬
  observers: {
    ['playlist.playCount'] (count) {
      this.setData({
        _count: this._tranNumber(count, 2)
      })
    }
  },
    // é¿å…ç›‘å¬å™¨ èµ‹å€¼æ­»å¾ªç¯
    _count: 0
  },
```


 - [ ] åŸå› å°±æ˜¯ `playlist.playCount` è¿™ ä¸ªæ•°æ®æ˜¯ç›‘å¬çŠ¶æ€ å¦‚æœ `playlist.playCount` æ”¹å˜å°±ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœåœ¨setData ä¸­ç»™åŸæ•°æ®èµ‹å€¼ ä»–å°±ä¼šä¸æ–­çš„è§¦å‘è¿™ä¸ªæ–¹æ³•ï¼Œä»è€Œå¯¼è‡´æ­»å¾ªç¯

- [x] æ‰€ä»¥è§£å†³æ–¹æ¡ˆå°±æ˜¯ åœ¨ç»„ä»¶ data ä¸­å®šä¹‰ä¸€ä¸ª å˜é‡ æ¥å—è¿™ä¸ªæ–°çš„å€¼ï¼Œç„¶ååœ¨é¡µé¢ä¸­ä½¿ç”¨ dataä¸­çš„å€¼ åœ¨è¿™é‡Œä¹Ÿå°±æ˜¯ `_count`